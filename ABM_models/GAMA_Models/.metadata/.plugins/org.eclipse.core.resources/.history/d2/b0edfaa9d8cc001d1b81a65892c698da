/**
* Name: NewModel
* Based on the internal empty template. 
* Author: Tabea
* Tags: 
*/



model TransportAirPollutionExposureModel
  
global{
	/** Insert the global definitions, variables and actions here */
	
	string path_data <- "C:/Users/Tabea/Documents/PhD EXPANSE/Data/Tutorial on ABM for EXPOSOME Science/Data/";
	file shape_file_Residences <- shape_file(path_data+"Residences_neighcode_RDNew.shp");    
	
	file shape_NO2 <- shape_file(path_data + "AmsterdamNO2.shp");
	init{
		create Homes from: shape_file_Residences with: [Neighborhood:: read('nghb_cd')];
		create AirPoll from: shape_NO2 with:[NO2:: read('nlbeluxde2')];
		
	}
//	grid PM2 file: PM2_5_raster;
}
species Homes{
	string Neighborhood;
}

species AirPoll{
	float NO2;
}

species Humans skills:[moving] parallel: true{
	geometry residence;
	geometry destination_activity;
	geometry route_eucl_line;
	geometry route_contour;
	list<geometry> route_segments;
	list<float> route_segment_lengths;
	reflex traveling{
		destination_activity <- one_of(Homes);
		route_eucl_line <- line(container(point(self.location), point(destination_activity.location)));
		
	}
}